SET search_path TO private_ci2027_001;


-- CREATE ROLES


CREATE ROLE ci2027_user NOLOGIN;
GRANT ci2027_user TO authenticator;

GRANT web_anon TO ci2027_user;

GRANT USAGE ON SCHEMA private_ci2027_001 TO web_anon;
GRANT web_anon TO ci2027_user;

ALTER DEFAULT PRIVILEGES IN SCHEMA private_ci2027_001 GRANT SELECT, UPDATE, INSERT, DELETE ON TABLES TO ci2027_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA private_ci2027_001 GRANT EXECUTE ON FUNCTIONS TO ci2027_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA private_ci2027_001 GRANT USAGE ON SEQUENCES TO ci2027_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA private_ci2027_001 GRANT USAGE ON TYPES TO ci2027_user;
